<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Monitoring BlackLab Server</title>
		<script src='../jQuery.js'></script>
		<script src='../jquery.tablesorter.js'></script>
		<link rel='stylesheet' type='text/css' href='monitor.css'>
		<script src='monitor.js'></script>
	</head>
	<body>
		<h1>BlackLab Server Monitoring Tool</h1>
		
		<table id='cache'>
			<thead>
				<tr>
					<th>JobID</th>
					<th>Corpus</th>
					<th>Query</th>
					<th>Type</th>
					<th>Status</th>
					<th>User wait</th>
					<th>Exec. time</th>
					<th>Last accessed</th>
					<th>Paused for</th>
					<th>Refs to job</th>
				</tr>
			</thead>
			<tbody id='tableBody'>
			</tbody>
		</table>
		
		<p>
			<label for='hideFinished'>Finished jobs:</label>
			<select onchange='onChangeFinishedSetting();' id='hideFinished'>
				<option value='show'>Show</option>
				<option value='hide' selected='selected'>Hide</option>
				<option value='hide20'>Hide after 20s</option>
			</select>
		</p>
		
		<p>
			<label for='hideWaiting'>Waiting jobs:</label>
			<select onchange='onChangeWaitingSetting();' id='hideWaiting'>
				<option value='show'>Show</option>
				<option value='hide' selected='selected'>Hide</option>
			</select>
		</p>
		
		<p>
			<input type='button' onclick='clearCache();' value='Clear cache' />
		</p>
		
		<p>
			<label for='blsUrl'>BLS url:</label><br/>
			<input type='text' id='blsUrl' value='/blacklab-server' />
		</p>
		
		<h3 id='jobDetailHeading'></h3>
		<div id='jobDetail'>
		</div>
		
	</body>
</html>
